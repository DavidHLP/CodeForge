# Redis Commons - 项目概述

## 🚀 项目简介

**Redis Commons** 是一个基于 Spring Boot 的企业级 Redis 工具类库，旨在提供统一、高效、易用的 Redis 操作接口。该项目采用门面模式设计，将复杂的 Redis 操作进行封装和抽象，为开发者提供简洁而强大的 Redis 集成解决方案。

## 📋 核心功能特性

### 🎯 基础数据操作

- **多数据类型支持**：完整支持 String、Hash、List、Set、ZSet 等 Redis 核心数据类型
- **统一操作接口**：通过 `RedisUtils` 门面类提供一致性的操作体验
- **类型安全保证**：强类型设计，避免运行时类型转换错误
- **链式调用风格**：支持流畅的 API 调用方式，提升代码可读性

### 🔒 分布式锁管理

- **基于 Redisson**：集成 Redisson 分布式锁实现，保证锁的可靠性
- **多种锁类型**：支持可重入锁、公平锁、读写锁等多种锁机制
- **超时控制**：内置锁超时和续约机制，防止死锁问题
- **异常处理**：完善的锁获取失败和释放异常处理机制

### 🔄 事务支持

- **声明式事务**：通过 `@RedisTransactional` 注解实现声明式事务管理
- **编程式事务**：提供 `tx()` 方法进行编程式事务操作
- **事务隔离**：支持 Redis 事务的 MULTI/EXEC 命令序列
- **回滚机制**：事务执行失败时的自动回滚处理

### 📈 缓存增强功能

- **注解驱动**：`@RedisCacheable`、`@RedisEvict` 注解简化缓存操作
- **SpEL 表达式**：支持 Spring 表达式语言动态生成缓存键
- **条件缓存**：基于条件表达式的智能缓存策略
- **多级缓存**：支持 L1(本地) + L2(Redis) + L3(数据库) 多级缓存架构
- **缓存预热**：应用启动时自动预加载热点数据
- **性能监控**：内置缓存命中率、响应时间等性能指标收集

### ⚡ 高性能优化

- **批量操作**：自动识别并优化批量操作，减少网络 IO
- **连接池管理**：基于 Lettuce 的高性能连接池配置
- **序列化优化**：支持多种序列化策略，平衡性能与兼容性
- **异步支持**：提供异步操作接口，提升并发处理能力

## 🎯 适用场景

### 微服务架构

在微服务环境中作为统一的缓存和分布式锁解决方案，提供：

- 服务间数据共享缓存
- 分布式锁协调服务调用
- 会话状态管理
- 限流和防重放攻击

### 高并发应用

为高并发场景提供性能优化：

- 热点数据缓存加速
- 数据库查询结果缓存
- 分布式计数器
- 排行榜和统计数据

### 企业级应用

满足企业级应用的可靠性要求：

- 完整的监控和日志体系
- 灵活的配置管理
- 优雅的异常处理
- 向后兼容的 API 设计

## 📊 技术优势

### 🏗️ 架构设计优势

- **模块化设计**：清晰的模块划分，职责单一，易于维护和扩展
- **依赖注入**：完全基于 Spring Boot 自动配置，零配置开箱即用
- **接口抽象**：面向接口编程，便于测试和模块替换
- **策略模式**：支持多种缓存策略和序列化方式的灵活切换

### 🛡️ 可靠性保证

- **异常安全**：完善的异常处理机制，保证系统稳定运行
- **资源管理**：自动的连接池和内存管理，防止资源泄漏
- **监控告警**：内置性能指标收集，支持监控系统集成
- **优雅降级**：Redis 不可用时的降级策略支持

### 📈 性能表现

- **零拷贝优化**：减少对象创建和内存拷贝开销
- **批量优化**：智能批量操作合并，显著提升吞吐量
- **缓存预热**：应用启动时预加载，减少冷启动延迟
- **异步处理**：非阻塞操作模式，提升系统响应能力

## 🔧 技术栈依赖

| 组件              | 版本要求 | 用途                     |
| ----------------- | -------- | ------------------------ |
| Spring Boot       | 2.7+     | 核心框架和自动配置       |
| Spring Data Redis | 2.7+     | Redis 操作模板和连接管理 |
| Lettuce           | 6.1+     | Redis 客户端连接池       |
| Redisson          | 3.17+    | 分布式锁和高级数据结构   |
| Jackson           | 2.13+    | JSON 序列化和反序列化    |
| Spring AOP        | 5.3+     | 切面编程支持             |
| HuTool            | 5.8+     | 工具类库支持             |

## 🎉 快速开始

```xml
<!-- Maven 依赖引入 -->
<dependency>
    <groupId>com.david</groupId>
    <artifactId>redis-commons</artifactId>
    <version>0.0.1-SNAPSHOT</version>
</dependency>
```

```java
// 基本使用示例
@Autowired
private RedisUtils redisUtils;

// String 操作
redisUtils.strings().set("key", "value", 3600);
String value = redisUtils.strings().get("key");

// 分布式锁
redisUtils.locks().tryLock("lockKey", 30, () -> {
    // 临界区代码
    return "执行结果";
});

// 缓存注解
@RedisCacheable(key = "'user:' + #userId", ttl = 1800)
public User getUserById(Long userId) {
    return userService.findById(userId);
}
```

Redis Commons 致力于成为 Java 生态中最易用、最可靠的 Redis 工具类库，让开发者专注于业务逻辑而非基础设施的复杂性。
